<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Aplicaci√≥n de gesti√≥n de eventos culturales - Consulta, filtra y reserva eventos cerca de ti">
    <title>EventosCultura - Gesti√≥n de Eventos Culturales</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        
        /* Estilos para mejorar accesibilidad y usabilidad */
        button:focus-visible,
        a:focus-visible,
        input:focus-visible,
        textarea:focus-visible,
        select:focus-visible {
            outline: 3px solid #8b5cf6;
            outline-offset: 2px;
        }
        
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: #8b5cf6;
            color: white;
            padding: 8px;
            text-decoration: none;
            z-index: 100;
        }
        
        .skip-link:focus {
            top: 0;
        }
        
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .line-clamp-1 {
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 1;
        }
        
        .line-clamp-2 {
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .animate-spin {
            animation: spin 1s linear infinite;
        }
        
        @keyframes slideUp {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .animate-slide-up {
            animation: slideUp 0.3s ease-out;
        }
        
        /* Toast styles */
        .toast-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
            pointer-events: none;
        }
        
        .toast {
            background: white;
            border-radius: 8px;
            padding: 16px 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 12px;
            pointer-events: auto;
            animation: slideIn 0.3s ease-out;
            min-width: 300px;
        }
        
        .toast.success {
            border-left: 4px solid #10b981;
        }
        
        .toast.info {
            border-left: 4px solid #3b82f6;
        }
        
        @keyframes slideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOut {
            to {
                transform: translateY(-20px);
                opacity: 0;
            }
        }
        
        .toast.removing {
            animation: slideOut 0.3s ease-in forwards;
        }
        
        /* Modal overlay */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.75);
            z-index: 40;
            animation: fadeIn 0.2s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            position: relative;
            z-index: 9999;
        }
    </style>
</head>
<body>
    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="skip-link" tabindex="-1">
        Saltar al contenido principal
    </a>
    
    <div id="root"></div>
    <div id="toast-container" class="toast-container" role="region" aria-live="polite" aria-label="Notificaciones"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Toast utility
        const toast = {
            show: (message, type = 'info') => {
                const container = document.getElementById('toast-container');
                const toastEl = document.createElement('div');
                toastEl.className = `toast ${type}`;
                toastEl.setAttribute('role', 'status');
                toastEl.setAttribute('aria-live', 'polite');
                toastEl.innerHTML = `
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" aria-hidden="true">
                        <circle cx="10" cy="10" r="9" stroke="${type === 'success' ? '#10b981' : '#3b82f6'}" stroke-width="2"/>
                        <path d="M6 10l3 3 5-6" stroke="${type === 'success' ? '#10b981' : '#3b82f6'}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span style="color: #374151; font-size: 14px;">${message}</span>
                `;
                
                container.appendChild(toastEl);
                
                setTimeout(() => {
                    toastEl.classList.add('removing');
                    setTimeout(() => toastEl.remove(), 300);
                }, 3000);
            },
            success: (message) => toast.show(message, 'success'),
            info: (message) => toast.show(message, 'info')
        };

        // Icon components with accessibility
        const SearchIcon = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 0 0" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true" style={{ pointerEvents: 'none' }}>
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
            </svg>
        );

        const MapPinIcon = ({ className = "w-6 h-6" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
            </svg>
        );

        const BookmarkIcon = ({ filled, className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 24 24" fill={filled ? "currentColor" : "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
                <path d="m19 21-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
            </svg>
        );

        const CalendarIcon = ({ className = "w-4 h-4" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
        );

        const ClockIcon = ({ className = "w-4 h-4" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
        );

        const ListIcon = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
                <line x1="8" y1="6" x2="21" y2="6"></line>
                <line x1="8" y1="12" x2="21" y2="12"></line>
                <line x1="8" y1="18" x2="21" y2="18"></line>
                <line x1="3" y1="6" x2="3.01" y2="6"></line>
                <line x1="3" y1="12" x2="3.01" y2="12"></line>
                <line x1="3" y1="18" x2="3.01" y2="18"></line>
            </svg>
        );

        const MapIcon = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
                <polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"></polygon>
                <line x1="8" y1="2" x2="8" y2="18"></line>
                <line x1="16" y1="6" x2="16" y2="22"></line>
            </svg>
        );

        const FilterIcon = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 0 0" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
                <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon>
            </svg>
        );

        const UserIcon = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
        );

        const HomeIcon = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
        );

        const ArrowLeftIcon = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
                <line x1="19" y1="12" x2="5" y2="12"></line>
                <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
        );

        const XIcon = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        );

        const TicketIcon = ({ className = "w-5 h-5" }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" aria-hidden="true">
                <path d="M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"></path>
                <path d="M13 5v2"></path>
                <path d="M13 17v2"></path>
                <path d="M13 11v2"></path>
            </svg>
        );

        // Mock data with more details
        const mockEvents = [
            {
                id: '1',
                title: 'Concierto de Rock en Vivo - The Electric Nights',
                category: 'Concierto',
                date: '30 Diciembre, 2025',
                dateISO: '2025-12-30',
                time: '20:00',
                location: 'Estadio Nacional, Madrid',
                address: 'Avenida de Concha Espina, 1, 28036 Madrid',
                image: 'https://images.unsplash.com/photo-1743791022256-40413c5f019b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjb25jZXJ0JTIwbXVzaWMlMjBldmVudHxlbnwxfHx8fDE3NjU2Nzk3NDN8MA&ixlib=rb-4.1.0&q=80&w=400',
                price: 45,
                availableTickets: 150,
                description: 'Una noche inolvidable de rock con The Electric Nights. Disfruta de sus mayores √©xitos y nuevas canciones en vivo.',
                organizer: 'Live Nation Espa√±a',
                coordinates: { lat: 40.4168, lng: -3.7038 }
            },
            {
                id: '2',
                title: 'Obra de Teatro: "La vida es sue√±o"',
                category: 'Teatro',
                date: '31 Diciembre, 2025',
                dateISO: '2025-12-31',
                time: '19:30',
                location: 'Teatro Real, Madrid',
                address: 'Plaza de Isabel II, s/n, 28013 Madrid',
                image: 'https://images.unsplash.com/photo-1764936394584-c4a66ac31e00?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx0aGVhdGVyJTIwcGVyZm9ybWFuY2UlMjBzdGFnZXxlbnwxfHx8fDE3NjU3MTY2NDd8MA&ixlib=rb-4.1.0&q=80&w=400',
                price: 35,
                availableTickets: 80,
                description: 'Cl√°sico del teatro espa√±ol de Calder√≥n de la Barca. Una producci√≥n magistral con actores de renombre.',
                organizer: 'Teatro Real',
                coordinates: { lat: 40.4180, lng: -3.7100 }
            },
            {
                id: '3',
                title: 'Exposici√≥n de Arte Contempor√°neo',
                category: 'Arte',
                date: '2 Enero, 2026',
                dateISO: '2026-01-02',
                time: '10:00',
                location: 'Museo Reina Sof√≠a, Madrid',
                address: 'Calle de Santa Isabel, 52, 28012 Madrid',
                image: 'https://images.unsplash.com/photo-1719935115623-4857df23f3c6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhcnQlMjBleGhpYml0aW9uJTIwZ2FsbGVyeXxlbnwxfHx8fDE3NjU3MTY2NDd8MA&ixlib=rb-4.1.0&q=80&w=400',
                price: 0,
                availableTickets: 200,
                description: 'Exposici√≥n gratuita de artistas contempor√°neos emergentes. Entrada libre hasta completar aforo.',
                organizer: 'Museo Reina Sof√≠a',
                coordinates: { lat: 40.4085, lng: -3.6935 }
            },
            {
                id: '4',
                title: 'Festival Gastron√≥mico Internacional',
                category: 'Gastronom√≠a',
                date: '31 Diciembre, 2025',
                dateISO: '2025-12-31',
                time: '12:00',
                location: 'Parque del Retiro, Madrid',
                address: 'Plaza de la Independencia, 7, 28001 Madrid',
                image: 'https://images.unsplash.com/photo-1675674683873-1232862e3c64?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmb29kJTIwZmVzdGl2YWwlMjBtYXJrZXR8ZW58MXx8fHwxNzY1NjA5MzYyfDA&ixlib=rb-4.1.0&q=80&w=400',
                price: 0,
                availableTickets: 500,
                description: 'Degustaciones de cocina internacional, talleres de cocina y showcooking con chefs reconocidos.',
                organizer: 'Ayuntamiento de Madrid',
                coordinates: { lat: 40.4153, lng: -3.6844 }
            },
            {
                id: '5',
                title: 'Partido de F√∫tbol - Real Madrid vs Barcelona',
                category: 'Deportes',
                date: '3 Enero, 2026',
                dateISO: '2026-01-03',
                time: '21:00',
                location: 'Santiago Bernab√©u, Madrid',
                address: 'Av. de Concha Espina, 1, 28036 Madrid',
                image: 'https://images.unsplash.com/photo-1764050359179-517599dab87b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzcG9ydHMlMjBldmVudCUyMHN0YWRpdW18ZW58MXx8fHwxNzY1NzE0NDQzfDA&ixlib=rb-4.1.0&q=80&w=400',
                price: 120,
                availableTickets: 50,
                description: 'El cl√°sico del f√∫tbol espa√±ol. No te pierdas este emocionante partido entre los dos grandes del f√∫tbol.',
                organizer: 'Real Madrid CF',
                coordinates: { lat: 40.4531, lng: -3.6883 }
            },
            {
                id: '6',
                title: 'Festival de M√∫sica Electr√≥nica al Aire Libre',
                category: 'Festival',
                date: '1 Enero, 2026',
                dateISO: '2026-01-01',
                time: '18:00',
                location: 'IFEMA, Madrid',
                address: 'Av. del Parten√≥n, 5, 28042 Madrid',
                image: 'https://images.unsplash.com/photo-1605286232233-e448650f5914?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxvdXRkb29yJTIwZmVzdGl2YWwlMjBjcm93ZHxlbnwxfHx8fDE3NjU3MTY2NDl8MA&ixlib=rb-4.1.0&q=80&w=400',
                price: 55,
                availableTickets: 300,
                description: 'Los mejores DJs internacionales en un festival de m√∫sica electr√≥nica inolvidable.',
                organizer: 'Electric Dreams Festival',
                coordinates: { lat: 40.4625, lng: -3.6189 }
            },
{
        id: '7',
        title: 'Conferencia de Tecnolog√≠a e Innovaci√≥n 2025',
        category: 'Tecnolog√≠a',
        date: '6 Enero, 2026',
        dateISO: '2026-01-06',
        time: '09:00',
        location: 'Palacio Municipal de Congresos, Madrid',
        address: 'Av. de la Capital de Espa√±a Madrid, 7, 28042 Madrid',
        image: 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?q=80&w=400',
        price: 60,
        availableTickets: 250,
        description: 'Evento anual sobre innovaci√≥n, inteligencia artificial y startups con ponentes internacionales.',
        organizer: 'Tech Madrid',
        coordinates: { lat: 40.4632, lng: -3.6166 }
    },
    {
        id: '8',
        title: 'Taller de Fotograf√≠a Urbana',
        category: 'Fotograf√≠a',
        date: '2 Enero, 2026',
        dateISO: '2026-01-02',
        time: '11:00',
        location: 'Malasa√±a, Madrid',
        address: 'Calle Fuencarral, 43, 28004 Madrid',
        image: 'https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=400',
        price: 25,
        availableTickets: 20,
        description: 'Aprende t√©cnicas de fotograf√≠a urbana recorriendo los barrios m√°s ic√≥nicos de Madrid.',
        organizer: 'FotoMadrid',
        coordinates: { lat: 40.4269, lng: -3.7038 }
    },
    {
        id: '9',
        title: 'Show de Comedia Stand-Up',
        category: 'Comedia',
        date: '4 Enero, 2026',
        dateISO: '2026-01-04',
        time: '21:00',
        location: 'Teatro La Latina, Madrid',
        address: 'Plaza de la Cebada, 2, 28005 Madrid',
        image: 'https://images.unsplash.com/photo-1527224857830-43a7acc85260?q=80&w=400',
        price: 20,
        availableTickets: 100,
        description: 'Una noche llena de risas con los mejores comediantes del panorama nacional.',
        organizer: 'Comedy Live',
        coordinates: { lat: 40.4114, lng: -3.7084 }
    },
    {
        id: '10',
        title: 'Feria del Libro Independiente',
        category: 'Literatura',
        date: '29 Diciembre, 2025',
        dateISO: '2025-12-29',
        time: '18:30',
        location: 'Matadero Madrid',
        address: 'Plaza de Legazpi, 8, 28045 Madrid',
        image: 'https://images.unsplash.com/photo-1524578271613-d550eacf6090?q=80&w=400',
        price: 0,
        availableTickets: 400,
        description: 'Editoriales independientes, firmas de libros y charlas con autores emergentes.',
        organizer: 'Matadero Madrid',
        coordinates: { lat: 40.3918, lng: -3.6977 }
    },
    {
        id: '11',
        title: 'Carrera Popular 10K Madrid Centro',
        category: 'Deportes',
        date: '9 Enero, 2025',
        dateISO: '2026-01-09',
        time: '08:30',
        location: 'Puerta del Sol, Madrid',
        address: 'Puerta del Sol, 28013 Madrid',
        image: 'https://images.unsplash.com/photo-1502904550040-7534597429ae?q=80&w=400',
        price: 15,
        availableTickets: 1000,
        description: 'Carrera popular de 10 kil√≥metros por el centro hist√≥rico de Madrid.',
        organizer: 'Madrid Sports',
        coordinates: { lat: 40.4169, lng: -3.7035 }
    },
    {
        id: '12',
        title: 'Cata de Vinos y Quesos Artesanos',
        category: 'Gastronom√≠a',
        date: '2 Enero, 2026',
        dateISO: '2026-01-02',
        time: '19:00',
        location: 'Mercado de San Miguel, Madrid',
        address: 'Plaza de San Miguel, s/n, 28005 Madrid',
        image: 'https://images.unsplash.com/photo-1510627498534-cf7e9002facc?q=80&w=400',
        price: 40,
        availableTickets: 60,
        description: 'Experiencia gourmet con vinos seleccionados y quesos artesanos de distintas regiones.',
        organizer: 'Sabores de Espa√±a',
        coordinates: { lat: 40.4154, lng: -3.7080 }
    }
        ];

        // Components

        // Navigation Bar
        function NavBar({ currentView, onNavigate, savedCount }) {
            return (
                <nav className="sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm" role="navigation" aria-label="Navegaci√≥n principal">
                    <div className="max-w-7xl mx-auto px-4 py-4">
                        <div className="flex items-center justify-between">
                            <div className="flex items-center gap-2">
                                <div className="w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-500 rounded-lg flex items-center justify-center text-2xl">
                                    üé´
                                </div>
                                <span className="hidden sm:block font-bold text-lg text-gray-900">EventosCultura</span>
                            </div>

                            <div className="flex gap-2">
                                <button
                                    onClick={() => onNavigate('home')}
                                    className={`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${
                                        currentView === 'home'
                                            ? 'bg-purple-600 text-white'
                                            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                    }`}
                                    aria-label="Ir a inicio"
                                    aria-current={currentView === 'home' ? 'page' : undefined}
                                >
                                    <HomeIcon className="w-5 h-5" />
                                    <span className="hidden sm:inline">Inicio</span>
                                </button>
                                <button
                                    onClick={() => onNavigate('saved')}
                                    className={`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 relative ${
                                        currentView === 'saved'
                                            ? 'bg-purple-600 text-white'
                                            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                    }`}
                                    aria-label={`Mis eventos, ${savedCount} guardados`}
                                    aria-current={currentView === 'saved' ? 'page' : undefined}
                                >
                                    <BookmarkIcon filled={currentView === 'saved'} />
                                    <span className="hidden sm:inline">Mis Eventos</span>
                                    {savedCount > 0 && (
                                        <span className="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center" aria-label={`${savedCount} eventos guardados`}>
                                            {savedCount}
                                        </span>
                                    )}
                                </button>
                                <button
                                    onClick={() => onNavigate('profile')}
                                    className={`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${
                                        currentView === 'profile'
                                            ? 'bg-purple-600 text-white'
                                            : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                    }`}
                                    aria-label="Ir a perfil"
                                    aria-current={currentView === 'profile' ? 'page' : undefined}
                                >
                                    <UserIcon />
                                    <span className="hidden sm:inline">Perfil</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </nav>
            );
        }

        // Search and Filter Component (Pantalla 2: Filtros/B√∫squeda)
        function SearchFilters({ searchQuery, onSearchChange, activeFilters, onFilterChange, onClose }) {
            const categories = ['Concierto', 'Teatro', 'Arte', 'Gastronom√≠a', 'Deportes', 'Festival'];
            const dates = [
                { id: 'today', label: 'Hoy' },
                { id: 'tomorrow', label: 'Ma√±ana' },
                { id: 'weekend', label: 'Este fin de semana' },
                { id: 'week', label: 'Esta semana' }
            ];
            const prices = [
                { id: 'free', label: 'Gratis' },
                { id: 'low', label: 'Hasta 30‚Ç¨' },
                { id: 'medium', label: '30‚Ç¨ - 60  ' },
                { id: 'high', label: 'M√°s de 60‚Ç¨' }
            ];

            return (
                <div className="bg-white rounded-lg shadow-lg p-6 max-w-2xl mx-auto animate-slide-up relative z-40">
                    <div className="flex items-center justify-between mb-6">
                        <h2 className="text-2xl font-bold text-gray-900">Filtros y B√∫squeda</h2>
                        {onClose && (
                            <button
                                onClick={onClose}
                                className="p-2 hover:bg-gray-100 rounded-lg transition-colors"
                                aria-label="Cerrar filtros"
                            >
                                <XIcon />
                            </button>
                        )}
                    </div>

                    {/* B√∫squeda */}
                    <div className="mb-6">
                        <label htmlFor="search-input" className="block text-sm font-semibold text-gray-700 mb-2">
                            Buscar eventos
                        </label>
                        <div className="relative">
                            <SearchIcon className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400" />
                            <input
                                id="search-input"
                                type="text"
                                placeholder="Nombre, categor√≠a o ubicaci√≥n..."
                                value={searchQuery}
                                onChange={(e) => onSearchChange(e.target.value)}
                                className="w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                aria-describedby="search-help"
                            />
                        </div>
                        <p id="search-help" className="text-sm text-gray-500 mt-1">
                            Introduce palabras clave para buscar eventos
                        </p>
                    </div>

                    {/* Categor√≠as */}
                    <div className="mb-6">
                        <fieldset>
                            <legend className="text-sm font-semibold text-gray-700 mb-2">Categor√≠a</legend>
                            <div className="flex flex-wrap gap-2">
                                {categories.map(cat => (
                                    <button
                                        key={cat}
                                        onClick={() => onFilterChange('category', cat)}
                                        className={`px-4 py-2 rounded-full text-sm transition-all ${
                                            activeFilters.category === cat
                                                ? 'bg-purple-600 text-white shadow-md'
                                                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                        }`}
                                        aria-pressed={activeFilters.category === cat}
                                    >
                                        {cat}
                                    </button>
                                ))}
                            </div>
                        </fieldset>
                    </div>

                    {/* Fecha */}
                    <div className="mb-6">
                        <fieldset>
                            <legend className="text-sm font-semibold text-gray-700 mb-2">Fecha</legend>
                            <div className="flex flex-wrap gap-2">
                                {dates.map(date => (
                                    <button
                                        key={date.id}
                                        onClick={() => onFilterChange('date', date.id)}
                                        className={`px-4 py-2 rounded-full text-sm transition-all ${
                                            activeFilters.date === date.id
                                                ? 'bg-purple-600 text-white shadow-md'
                                                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                        }`}
                                        aria-pressed={activeFilters.date === date.id}
                                    >
                                        {date.label}
                                    </button>
                                ))}
                            </div>
                        </fieldset>
                    </div>

                    {/* Precio */}
                    <div className="mb-6">
                        <fieldset>
                            <legend className="text-sm font-semibold text-gray-700 mb-2">Precio</legend>
                            <div className="flex flex-wrap gap-2">
                                {prices.map(price => (
                                    <button
                                        key={price.id}
                                        onClick={() => onFilterChange('price', price.id)}
                                        className={`px-4 py-2 rounded-full text-sm transition-all ${
                                            activeFilters.price === price.id
                                                ? 'bg-purple-600 text-white shadow-md'
                                                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                        }`}
                                        aria-pressed={activeFilters.price === price.id}
                                    >
                                        {price.label}
                                    </button>
                                ))}
                            </div>
                        </fieldset>
                    </div>

                    {/* Ubicaci√≥n */}
                    <div className="mb-6">
                        <button
                            onClick={() => onFilterChange('nearby', !activeFilters.nearby)}
                            className={`w-full px-4 py-3 rounded-lg transition-all flex items-center justify-center gap-2 ${
                                activeFilters.nearby
                                    ? 'bg-purple-600 text-white'
                                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                            }`}
                            aria-pressed={activeFilters.nearby}
                        >
                            <MapPinIcon className="w-5 h-5" />
                            <span>Solo eventos cerca de m√≠</span>
                        </button>
                    </div>

                    {/* Bot√≥n limpiar */}
                    <button
                        onClick={() => {
                            onSearchChange('');
                            onFilterChange('reset', null);
                        }}
                        className="w-full px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium"
                    >
                        Limpiar todos los filtros
                    </button>
                </div>
            );
        }

        // Event Card Component
        function EventCard({ event, isSaved, onSave, onViewDetail }) {
            return (
                //<article className="bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow overflow-hidden">
                <article className="event-card animate-fade-in bg-white rounded-xl shadow-md overflow-hidden">

                    <div className="relative h-48 overflow-hidden">
                        <img
                            src={event.image}
                            alt={`Imagen del evento ${event.title}`}
                            className="w-full h-full object-cover"
                            loading="lazy"
                        />
                        <div className="absolute top-3 right-3">
                            <button
                                onClick={(e) => {
                                    e.stopPropagation();
                                    onSave(event.id);
                                }}
                                className={`p-2 rounded-full backdrop-blur-sm transition-all ${
                                    isSaved
                                        ? 'bg-purple-600 text-white'
                                        : 'bg-white/80 text-gray-700 hover:bg-white'
                                }`}
                                aria-label={isSaved ? `Eliminar ${event.title} de guardados` : `Guardar ${event.title}`}
                                aria-pressed={isSaved}
                            >
                                <BookmarkIcon filled={isSaved} />
                            </button>
                        </div>
                        <div className="absolute bottom-3 left-3">
                            <span className="px-3 py-1 bg-purple-600 text-white rounded-full text-sm font-medium">
                                {event.category}
                            </span>
                        </div>
                    </div>

                    <div className="p-4">
                        <h3 className="font-bold text-lg mb-3 line-clamp-2 text-gray-900">{event.title}</h3>

                        <div className="space-y-2 mb-4 text-gray-600">
                            <div className="flex items-center gap-2">
                                <CalendarIcon />
                                <span className="text-sm">{event.date}</span>
                            </div>
                            <div className="flex items-center gap-2">
                                <ClockIcon />
                                <span className="text-sm">{event.time}</span>
                            </div>
                            <div className="flex items-center gap-2">
                                <MapPinIcon className="w-4 h-4 shrink-0" />
                                <span className="text-sm line-clamp-1">{event.location}</span>
                            </div>
                        </div>

                        <div className="flex items-center justify-between">
                            <div>
                                {event.price === 0 ? (
                                    <span className="font-bold text-green-600 text-lg">Gratis</span>
                                ) : (
                                    <span className="font-bold text-gray-900 text-lg">{event.price}‚Ç¨</span>
                                )}
                            </div>
                            <button
                                onClick={() => onViewDetail(event.id)}
                                className="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 hover:shadow-lg transition-colors text-sm font-medium"
                                aria-label={`Ver detalles de ${event.title}`}
                            >
                                Ver detalle
                            </button>
                        </div>
                    </div>
                </article>
            );
        }

        // Event Detail Component (Pantalla 3: Detalle del Evento)
        function EventDetail({ event, isSaved, onSave, onClose, onReserve }) {
            const [tickets, setTickets] = useState(1);

            return (
                <div className="fixed inset-0 z-50 overflow-y-auto">
                    <div className="modal-overlay" onClick={onClose} aria-hidden="true"></div>
                    
                    <div className="flex min-h-full items-center justify-center p-4" style={{ position: 'relative', zIndex: 9999 }}>
                        <article 
                            className="relative bg-white rounded-xl shadow-2xl max-w-3xl w-full animate-slide-up modal-content"
                            role="dialog"
                            aria-labelledby="event-title"
                            aria-modal="true"
                            onClick={(e) => e.stopPropagation()}
                        >
                            {/* Header Image */}
                            <div className="relative h-64 md:h-80 overflow-hidden rounded-t-xl">
                                <img
                                    src={event.image}
                                    alt={`Imagen del evento ${event.title}`}
                                    className="w-full h-full object-cover"
                                />
                                <button
                                    onClick={onClose}
                                    className="absolute top-4 right-4 p-2 bg-white rounded-full shadow-lg hover:bg-gray-100 transition-colors"
                                    aria-label="Cerrar detalles del evento"
                                >
                                    <XIcon />
                                </button>
                                <div className="absolute bottom-4 left-4">
                                    <span className="px-4 py-2 bg-purple-600 text-white rounded-full font-medium">
                                        {event.category}
                                    </span>
                                </div>
                            </div>

                            {/* Content */}
                            <div className="p-6 md:p-8">
                                <div className="flex items-start justify-between mb-4">
                                    <h2 id="event-title" className="text-2xl md:text-3xl font-bold text-gray-900 flex-1">
                                        {event.title}
                                    </h2>
                                    <button
                                        onClick={() => onSave(event.id)}
                                        className={`ml-4 p-3 rounded-full transition-all ${
                                            isSaved
                                                ? 'bg-purple-600 text-white'
                                                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                                        }`}
                                        aria-label={isSaved ? 'Eliminar de guardados' : 'Guardar evento'}
                                        aria-pressed={isSaved}
                                    >
                                        <BookmarkIcon filled={isSaved} className="w-6 h-6" />
                                    </button>
                                </div>

                                <p className="text-gray-600 mb-6 text-lg">{event.description}</p>

                                {/* Event Info */}
                                <div className="space-y-4 mb-6 bg-gray-50 p-4 rounded-lg">
                                    <div className="flex items-center gap-3 text-gray-700">
                                        <CalendarIcon className="w-5 h-5 text-purple-600" />
                                        <div>
                                            <span className="font-semibold">Fecha: </span>
                                            <span>{event.date}</span>
                                        </div>
                                    </div>
                                    <div className="flex items-center gap-3 text-gray-700">
                                        <ClockIcon className="w-5 h-5 text-purple-600" />
                                        <div>
                                            <span className="font-semibold">Hora: </span>
                                            <span>{event.time}</span>
                                        </div>
                                    </div>
                                    <div className="flex items-start gap-3 text-gray-700">
                                        <MapPinIcon className="w-5 h-5 text-purple-600 shrink-0 mt-1" />
                                        <div>
                                            <div className="font-semibold">{event.location}</div>
                                            <div className="text-sm text-gray-600">{event.address}</div>
                                        </div>
                                    </div>
                                    <div className="flex items-center gap-3 text-gray-700">
                                        <UserIcon className="w-5 h-5 text-purple-600" />
                                        <div>
                                            <span className="font-semibold">Organizador: </span>
                                            <span>{event.organizer}</span>
                                        </div>
                                    </div>
                                </div>

                                {/* Precio y disponibilidad */}
                                <div className="mb-6 p-4 bg-purple-50 rounded-lg border-2 border-purple-200">
                                    <div className="flex items-center justify-between mb-2">
                                        <span className="text-gray-700 font-semibold">Precio por entrada:</span>
                                        {event.price === 0 ? (
                                            <span className="text-2xl font-bold text-green-600">Gratis</span>
                                        ) : (
                                            <span className="text-2xl font-bold text-gray-900">{event.price}‚Ç¨</span>
                                        )}
                                    </div>
                                    <div className="flex items-center justify-between text-sm">
                                        <span className="text-gray-600">Entradas disponibles:</span>
                                        <span className="font-semibold text-gray-900">{event.availableTickets}</span>
                                    </div>
                                </div>

                                {/* Selector de entradas */}
                                <div className="mb-6">
                                    <label htmlFor="tickets-input" className="block text-sm font-semibold text-gray-700 mb-2">
                                        N√∫mero de entradas
                                    </label>
                                    <div className="flex items-center gap-4">
                                        <button
                                            onClick={() => setTickets(Math.max(1, tickets - 1))}
                                            className="w-10 h-10 bg-gray-200 hover:bg-gray-300 rounded-lg font-bold text-xl transition-colors"
                                            aria-label="Reducir n√∫mero de entradas"
                                            disabled={tickets <= 1}
                                        >
                                            ‚àí
                                        </button>
                                        <input
                                            id="tickets-input"
                                            type="number"
                                            min="1"
                                            max={event.availableTickets}
                                            value={tickets}
                                            onChange={(e) => setTickets(Math.min(event.availableTickets, Math.max(1, parseInt(e.target.value) || 1)))}
                                            className="w-20 text-center border-2 border-gray-300 rounded-lg py-2 font-semibold text-lg"
                                            aria-label="N√∫mero de entradas"
                                        />
                                        <button
                                            onClick={() => setTickets(Math.min(event.availableTickets, tickets + 1))}
                                            className="w-10 h-10 bg-gray-200 hover:bg-gray-300 rounded-lg font-bold text-xl transition-colors"
                                            aria-label="Aumentar n√∫mero de entradas"
                                            disabled={tickets >= event.availableTickets}
                                        >
                                            +
                                        </button>
                                        {event.price > 0 && (
                                            <div className="ml-auto">
                                                <span className="text-gray-600 text-sm">Total: </span>
                                                <span className="text-xl font-bold text-gray-900">{event.price * tickets}‚Ç¨</span>
                                            </div>
                                        )}
                                    </div>
                                </div>

                                {/* Botones de acci√≥n */}
                                <div className="flex gap-4">
                                    <button
                                        onClick={onClose}
                                        className="flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium"
                                    >
                                        Volver
                                    </button>
                                    <button
                                        onClick={() => onReserve(event, tickets)}
                                        className="flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium flex items-center justify-center gap-2"
                                        aria-label={`Reservar ${tickets} entrada${tickets > 1 ? 's' : ''}`}
                                    >
                                        <TicketIcon />
                                        <span>Reservar {tickets > 1 ? `${tickets} entradas` : 'entrada'}</span>
                                    </button>
                                </div>
                            </div>
                        </article>
                    </div>
                </div>
            );
        }

        // Saved Events View (Pantalla 4: Lista Personal)
        function SavedEventsView({ events, onViewDetail, onRemove }) {
            if (events.length === 0) {
                return (
                    <div className="text-center py-16">
                        <BookmarkIcon filled={false} className="w-16 h-16 mx-auto text-gray-300 mb-4" />
                        <h2 className="text-2xl font-bold text-gray-900 mb-2">No tienes eventos guardados</h2>
                        <p className="text-gray-600 mb-6">Explora eventos y gu√°rdalos para verlos m√°s tarde</p>
                    </div>
                );
            }

            return (
                <div>
                    <h2 className="text-2xl font-bold text-gray-900 mb-6">Mis Eventos Guardados ({events.length})</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {events.map(event => (
                            <EventCard
                                key={event.id}
                                event={event}
                                isSaved={true}
                                onSave={onRemove}
                                onViewDetail={onViewDetail}
                            />
                        ))}
                    </div>
                </div>
            );
        }

        // Profile View (Pantalla 4 alternativa: Perfil de Usuario)
        function ProfileView() {
            return (
                <div className="max-w-2xl mx-auto">
                    <div className="bg-white rounded-xl shadow-md p-8">
                        <div className="flex items-center gap-6 mb-8">
                            <div className="w-24 h-24 bg-gradient-to-br from-purple-600 to-pink-500 rounded-full flex items-center justify-center text-white text-4xl">
                                üë§
                            </div>
                            <div>
                                <h2 className="text-2xl font-bold text-gray-900 mb-1">Usuario Demo</h2>
                                <p className="text-gray-600">usuario@ejemplo.com</p>
                            </div>
                        </div>

                        <div className="space-y-6">
                            <div>
                                <h3 className="font-semibold text-gray-900 mb-3">Informaci√≥n Personal</h3>
                                <div className="space-y-3">
                                    <div className="flex justify-between py-2 border-b border-gray-200">
                                        <span className="text-gray-600">Nombre:</span>
                                        <span className="font-medium text-gray-900">Usuario Demo</span>
                                    </div>
                                    <div className="flex justify-between py-2 border-b border-gray-200">
                                        <span className="text-gray-600">Email:</span>
                                        <span className="font-medium text-gray-900">usuario@ejemplo.com</span>
                                    </div>
                                    <div className="flex justify-between py-2 border-b border-gray-200">
                                        <span className="text-gray-600">Ubicaci√≥n:</span>
                                        <span className="font-medium text-gray-900">Madrid, Espa√±a</span>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <h3 className="font-semibold text-gray-900 mb-3">Preferencias</h3>
                                <div className="space-y-3">
                                    <div className="flex justify-between py-2 border-b border-gray-200">
                                        <span className="text-gray-600">Categor√≠as favoritas:</span>
                                        <span className="font-medium text-gray-900">Conciertos, Teatro</span>
                                    </div>
                                    <div className="flex justify-between py-2 border-b border-gray-200">
                                        <span className="text-gray-600">Notificaciones:</span>
                                        <span className="font-medium text-gray-900">Activadas</span>
                                    </div>
                                </div>
                            </div>

                            <button className="w-full px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium">
                                Editar Perfil
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // Main App Component
        function App() {
            const [currentView, setCurrentView] = useState('home');
            const [searchQuery, setSearchQuery] = useState('');
            const [activeFilters, setActiveFilters] = useState({
                category: null,
                date: null,
                price: null,
                nearby: false
            });
            const [savedEvents, setSavedEvents] = useState(new Set());
            const [displayedEvents, setDisplayedEvents] = useState([]);
            const [selectedEvent, setSelectedEvent] = useState(null);
            const [showFilters, setShowFilters] = useState(false);
            const [visibleCount, setVisibleCount] = useState(6);

            useEffect(() => {
                // Evita que Chrome auto-enfoque el primer input
                if (document.activeElement instanceof HTMLElement) {
                    document.activeElement.blur();
                }
            }, []);

            useEffect(() => {
                if (selectedEvent || showFilters) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = '';
                }
            }, [selectedEvent, showFilters]);

            // Filter logic
            useEffect(() => {
                let filtered = [...mockEvents];

                // Search filter
                if (searchQuery) {
                    const query = searchQuery.toLowerCase();
                    filtered = filtered.filter(
                        event =>
                            event.title.toLowerCase().includes(query) ||
                            event.category.toLowerCase().includes(query) ||
                            event.location.toLowerCase().includes(query) ||
                            event.description.toLowerCase().includes(query)
                    );
                }

                // Category filter
                if (activeFilters.category) {
                    filtered = filtered.filter(event => event.category === activeFilters.category);
                }

// Date filter (USANDO Date y dateISO)
if (activeFilters.date === 'today') {
    const today = new Date();
    today.setHours(0, 0, 0, 0);

    filtered = filtered.filter(event => {
        const eventDate = new Date(event.dateISO);
        eventDate.setHours(0, 0, 0, 0);

        return eventDate.getTime() === today.getTime();
    });

} else if (activeFilters.date === 'weekend') {
    const now = new Date();
    const currentDay = now.getDay(); // 0 = domingo, 6 = s√°bado

    // Calcular s√°bado de esta semana
    const saturday = new Date(now);
    saturday.setDate(now.getDate() + (6 - currentDay));
    saturday.setHours(0, 0, 0, 0);

    // Calcular domingo de esta semana
    const sunday = new Date(saturday);
    sunday.setDate(saturday.getDate() + 1);

    filtered = filtered.filter(event => {
        const eventDate = new Date(event.dateISO);
        eventDate.setHours(0, 0, 0, 0);

        return (
            eventDate.getTime() === saturday.getTime() ||
            eventDate.getTime() === sunday.getTime()
        );
    });
}


                // Price filter
                if (activeFilters.price === 'free') {
                    filtered = filtered.filter(event => event.price === 0);
                } else if (activeFilters.price === 'low') {
                    filtered = filtered.filter(event => event.price > 0 && event.price <= 30);
                } else if (activeFilters.price === 'medium') {
                    filtered = filtered.filter(event => event.price > 30 && event.price <= 60);
                } else if (activeFilters.price === 'high') {
                    filtered = filtered.filter(event => event.price > 60);
                }

                // Nearby filter
                if (activeFilters.nearby) {
                    filtered = filtered.slice(0, 3);
                }

                setDisplayedEvents(filtered);
            }, [searchQuery, activeFilters]);

            // Lazy loading
            useEffect(() => {
                const handleScroll = () => {
                    if (
                        currentView === 'home' &&
                        window.innerHeight + window.scrollY >= document.body.offsetHeight - 500 &&
                        visibleCount < displayedEvents.length
                    ) {
                        setVisibleCount(prev => Math.min(prev + 3, displayedEvents.length));
                    }
                };

                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, [visibleCount, displayedEvents.length, currentView]);

            const handleSave = (eventId) => {
                setSavedEvents(prev => {
                    const newSet = new Set(prev);
                    if (newSet.has(eventId)) {
                        newSet.delete(eventId);
                        toast.success('Evento eliminado de tu lista');
                    } else {
                        newSet.add(eventId);
                        toast.success('Evento guardado en tu lista');
                    }
                    return newSet;
                });
            };

            const handleViewDetail = (eventId) => {
                const event = mockEvents.find(e => e.id === eventId);
                setSelectedEvent(event);
            };

            const handleFilterChange = (type, value) => {
                if (type === 'reset') {
                    setActiveFilters({
                        category: null,
                        date: null,
                        price: null,
                        nearby: false
                    });
                } else if (type === 'nearby') {
                    setActiveFilters(prev => ({ ...prev, nearby: value }));
                } else {
                    setActiveFilters(prev => ({
                        ...prev,
                        [type]: prev[type] === value ? null : value
                    }));
                }
            };

            const handleReserve = (event, tickets) => {
                toast.success(`¬°Reserva confirmada! ${tickets} entrada${tickets > 1 ? 's' : ''} para ${event.title}`);
                setSelectedEvent(null);
                handleSave(event.id);
            };

            const savedEventsList = mockEvents.filter(e => savedEvents.has(e.id));
            const visibleEvents = displayedEvents.slice(0, visibleCount);
            const activeFilterCount = Object.values(activeFilters).filter(v => v).length;

            return (
                <div className="min-h-screen bg-gray-50">
                    <NavBar 
                        currentView={currentView} 
                        onNavigate={setCurrentView}
                        savedCount={savedEvents.size}
                    />

                    <main id="main-content" className="max-w-7xl mx-auto px-4 py-6 view-transition">
                        {/* Home View - Pantalla 1: Listado de Eventos */}
                        {currentView === 'home' && (
                            <>
                                {/* Search and Quick Actions */}
                                <div className="mb-6">
                                    <div className="flex gap-4 items-center">
                                        <div className="flex-1 relative">
                                            <SearchIcon className="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400" />
                                            <input
                                                type="text"
                                                placeholder="Buscar eventos..."
                                                value={searchQuery}
                                                onChange={(e) => setSearchQuery(e.target.value)}
                                                autoComplete="off"
                                                autoCorrect="off"
                                                autoCapitalize="off"
                                                spellCheck={false}
                                                tabIndex={0}
                                                className="w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                                aria-label="Buscar eventos"
                                            />
                                        </div>
<button
    onClick={() => setShowFilters(!showFilters)}
    className="min-w-[160px] px-6 py-3 bg-purple-600 text-white rounded-lg
               hover:bg-purple-700 transition-colors
               flex items-center justify-center gap-2 font-medium"
    aria-label={`${showFilters ? 'Ocultar' : 'Mostrar'} filtros de b√∫squeda`}
    aria-expanded={showFilters}
>
    <SearchIcon className="w-5 h-5" />
    <FilterIcon className="w-5 h-5" />
    <span>Filtros</span>
</button>
                                    </div>
                                </div>

                                {/* Advanced Filters Panel */}
                                {showFilters && (
                                    <div className="mb-6">
                                        <SearchFilters
                                            searchQuery={searchQuery}
                                            onSearchChange={setSearchQuery}
                                            activeFilters={activeFilters}
                                            onFilterChange={handleFilterChange}
                                            onClose={() => setShowFilters(false)}
                                        />
                                    </div>
                                )}

                                {/* Results count */}
                                <div className="mb-4">
                                    <p className="text-gray-600" role="status" aria-live="polite">
                                        {displayedEvents.length} evento{displayedEvents.length !== 1 ? 's' : ''} encontrado{displayedEvents.length !== 1 ? 's' : ''}
                                    </p>
                                </div>

                                {/* Events Grid */}
                                {displayedEvents.length > 0 ? (
                                    <>
                                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                            {visibleEvents.map(event => (
                                                <EventCard
                                                    key={event.id}
                                                    event={event}
                                                    isSaved={savedEvents.has(event.id)}
                                                    onSave={handleSave}
                                                    onViewDetail={handleViewDetail}
                                                />
                                            ))}
                                        </div>

                                        {/* Loading indicator */}
                                        {visibleCount < displayedEvents.length && (
                                            <div className="text-center py-8" role="status" aria-live="polite">
                                                <div className="inline-block w-8 h-8 border-4 border-purple-600 border-t-transparent rounded-full animate-spin" aria-hidden="true"></div>
                                                <p className="mt-2 text-gray-600">Cargando m√°s eventos...</p>
                                            </div>
                                        )}
                                    </>
                                ) : (
                                    <div className="text-center py-12">
                                        <p className="text-gray-500 text-lg mb-4">No se encontraron eventos</p>
                                        <button
                                            onClick={() => {
                                                setSearchQuery('');
                                                handleFilterChange('reset', null);
                                            }}
                                            className="px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-medium"
                                        >
                                            Limpiar filtros
                                        </button>
                                    </div>
                                )}
                            </>
                        )}

                        {/* Saved Events View */}
                        {currentView === 'saved' && (
                            <SavedEventsView
                                events={savedEventsList}
                                onViewDetail={handleViewDetail}
                                onRemove={handleSave}
                            />
                        )}

                        {/* Profile View */}
                        {currentView === 'profile' && <ProfileView />}
                    </main>

                    {/* Event Detail Modal */}
                    {selectedEvent && (
                        <EventDetail
                            event={selectedEvent}
                            isSaved={savedEvents.has(selectedEvent.id)}
                            onSave={handleSave}
                            onClose={() => setSelectedEvent(null)}
                            onReserve={handleReserve}
                        />
                    )}
                </div>
            );
        }

        // Render app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
